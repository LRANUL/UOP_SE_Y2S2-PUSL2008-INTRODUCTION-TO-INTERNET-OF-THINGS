{"version":3,"sources":["./src/app/student/esign/esign.page.html","./src/app/student/esign/esign-routing.module.ts","./src/app/student/esign/esign.module.ts","./src/app/student/esign/esign.page.scss","./src/app/student/esign/esign.page.ts"],"names":[],"mappings":"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","file":"student-esign-esign-module-es2015.js","sourcesContent":["export default \"<ion-app>\\r\\n  <div class=\\\"ion-page\\\" id=\\\"main-content\\\">\\r\\n    <ion-header>\\r\\n      <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Home</ion-title>\\r\\n      </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <ion-content class=\\\"ion-padding\\\">\\r\\n      <div name=Sessions>\\r\\n        <ion-card *ngFor=\\\"let item of session\\\">\\r\\n          <ion-card-title>\\r\\n            <ion-card-header>Sign Your Attendance Online</ion-card-header>\\r\\n          </ion-card-title>\\r\\n          <ion-card-content>\\r\\n            <ion-input [(ngModel)]=\\\"SessionCode\\\" placeholder=\\\"Enter your Session Code\\\">Session Code: </ion-input>\\r\\n            <br>\\r\\n            <ion-label>Module: {{ item.Module }}</ion-label><br>\\r\\n            <ion-label>Session: {{ item.Session }}</ion-label><br>\\r\\n            <ion-label>Date: {{ item.Date }}</ion-label><br>\\r\\n            <ion-label>Hall: {{ item.Hall }}</ion-label><br>\\r\\n            <br>\\r\\n            <ion-label *ngIf=\\\"location\\\">Student Location: {{ item.Hall }}<ion-icon name=\\\"checkmark-done-circle-outline\\\"\\r\\n                color=\\\"success\\\"></ion-icon>\\r\\n            </ion-label>\\r\\n            <ion-label *ngIf=\\\"!location\\\">Student Location: outside<ion-icon name=\\\"close-circle-outline\\\" color=\\\"danger\\\">\\r\\n              </ion-icon>\\r\\n            </ion-label>\\r\\n            <p *ngIf=\\\"location\\\">we have detected you are inside the hall</p>\\r\\n            <p *ngIf=\\\"!location\\\">we cannot detect your inside the hall enable location services and try again.</p>\\r\\n            <ion-button [disabled]=\\\"item.SessionCode != SessionCode\\\" (click)=\\\"addAttendaceToFirebase()\\\" shape=\\\"round\\\"\\r\\n              color=\\\"light\\\" slot=\\\"end\\\">Mark Attendance<ion-icon slot=\\\"icon-only\\\" name=\\\"checkmark-done-circle\\\">\\r\\n              </ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </div>\\r\\n      <div name=\\\"NoSessions\\\" *ngIf=\\\"nosession\\\" align='center'>\\r\\n        <ion-card>\\r\\n          <ion-card-content>\\r\\n            <h1>No sessions today, check your calendar.</h1>\\r\\n            <ion-img src=\\\"/assets/images/internals/nosession.svg\\\" style=\\\"height: 200px;\\\"></ion-img>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </div>\\r\\n      <div name=\\\"CompletedSessions\\\" *ngIf=\\\"!signed\\\" align='center'>\\r\\n        <ion-card>\\r\\n          <ion-card-content>\\r\\n            <h1>You have already signed for all your sessions today.</h1>\\r\\n            <ion-img src=\\\"/assets/images/internals/done.svg\\\" style=\\\"height: 200px;\\\"></ion-img>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </div>\\r\\n\\r\\n    </ion-content>\\r\\n  </div>\\r\\n</ion-app>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EsignPage } from './esign.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EsignPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EsignPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EsignPageRoutingModule } from './esign-routing.module';\r\n\r\nimport { EsignPage } from './esign.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EsignPageRoutingModule\r\n  ],\r\n  declarations: [EsignPage]\r\n})\r\nexport class EsignPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnQvZXNpZ24vZXNpZ24ucGFnZS5zY3NzIn0= */\"","import { FirebaseService } from 'src/app/services/firebase.service';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport * as firebase from 'firebase/app';\r\nimport { Router } from '@angular/router';\r\nimport { MapsAPILoader } from '@agm/core';\r\n\r\nimport { AngularFirestore } from '@angular/fire/firestore/';\r\n@Component({ selector: 'app-esign', templateUrl: './esign.page.html', styleUrls: ['./esign.page.scss'] })\r\n\r\nexport class EsignPage implements OnInit {\r\n    nosession: boolean;\r\n    check: void[];\r\n    signed: boolean;\r\n    session: { id: string; SessionCode: any; Module: string; Session: any; Date: any; Hall: any; Lecturer: any; }[];\r\n    CloudCode: any;\r\n    SessionCode: any;\r\n    Alert: string;\r\n    location;\r\n    constructor(private loader: MapsAPILoader, private firestore: AngularFirestore, private router: Router, private firebase: FirebaseService, public navCtrl: NavController, private toastController: ToastController) {\r\n\r\n    }\r\n\r\n    async ngOnInit() {\r\n        this.firestore.collection('/users/userTypes/studentUsers').doc(this.firebase.userDetails().uid).set({\r\n            Activity: 'Online',\r\n        }, { merge: true });\r\n        this.firestore.collection('userActivityMonitoring').add({\r\n            loginDateTime: new Date(),\r\n            userId: this.firebase.userDetails().uid,\r\n        })\r\n        this.fetchdata()\r\n    }\r\n\r\n    fetchdata() {\r\n        var Batch: string\r\n        var Faculty: string\r\n        var LectureDate: string\r\n        var DegreeCode: string\r\n        var ModuleCode: string\r\n        var LocationCheck: boolean\r\n\r\n        // Fetch Date to Query\r\n\r\n        var checkdate = function (sp) {\r\n            const today = new Date();\r\n            var dd = today.getDate();\r\n            var mm = today.getMonth() + 1;\r\n            var yyyy = today.getFullYear();\r\n\r\n            if (dd < 10) dd = 0 + dd;\r\n            if (mm < 10) mm = 0 + mm;\r\n            return (yyyy + sp + mm + sp + dd);\r\n        };\r\n        // Fetch User Details For Query\r\n\r\n        // Load Module Data from Database  \r\n        LectureDate = checkdate('-');\r\n        // LectureDate = '2020-3-21';\r\n        // console.log(LectureDate)\r\n        this.firestore.collection('/users/userTypes/studentUsers').doc(this.firebase.userDetails().uid).ref.get().then((doc) => {\r\n            if (doc.exists) {\r\n                // console.log(doc.data());\r\n                Batch = doc.data().batch.toString()\r\n                Faculty = doc.data().faculty\r\n                DegreeCode = doc.data().degree + \", \" + doc.data().awardingBodyUniversity\r\n                // console.log(DegreeCode + Faculty + Batch)\r\n                this.firebase.fetchSession(Batch, Faculty, LectureDate, DegreeCode).subscribe(data => {\r\n                    // console.log(doc.data())\r\n                    if (!doc.exists) {\r\n                        // console.log('NO SESSION FOR TODAY ')\r\n                        this.nosession = true;\r\n                    }\r\n                    else {\r\n                        this.nosession = false;\r\n                        this.check = data.map(e => {\r\n                            ModuleCode = e.payload.doc.data()['moduleCode'] + \"-\" + e.payload.doc.data()['moduleTitle']\r\n                            // console.log(ModuleCode)\r\n                            this.firestore.collection('Attendance/History/' + ModuleCode).doc(this.firebase.userDetails().email).ref.get().then((doc) => {\r\n                                if (doc.exists) {\r\n                                    // console.log(doc.data())\r\n                                    // console.log('ALREADY SIGNED')\r\n                                    this.signed = true;\r\n                                }\r\n                                else {\r\n                                    this.signed = false;\r\n                                    this.firebase.fetchSession(Batch, Faculty, LectureDate, DegreeCode).subscribe(data => {\r\n                                        // console.log(Batch + '' + Faculty + '' + LectureDate)\r\n                                        this.session = data.map(e => {\r\n                                            ModuleCode = e.payload.doc.data()['moduleCode'] + \"-\" + e.payload.doc.data()['moduleTitle']\r\n                                            LocationCheck = e.payload.doc.data()['LocationCheck']\r\n                                            return {\r\n\r\n                                                id: e.payload.doc.id,\r\n                                                SessionCode: e.payload.doc.data()['SessionCode'],\r\n                                                Module: e.payload.doc.data()['moduleCode'] + \" \" + e.payload.doc.data()['moduleTitle'],\r\n                                                Session: e.payload.doc.data()['Session'],\r\n                                                Date: e.payload.doc.data()['startDateTime'].toDate(),\r\n                                                Hall: e.payload.doc.data()['lectureHall'],\r\n                                                Lecturer: e.payload.doc.data()['lecturer'],\r\n                                            };\r\n                                        })\r\n                                        // console.log(this.session);\r\n\r\n                                        // console.log(ModuleCode)\r\n                                        this.firestore.collection('/faculties/' + Faculty + '/lectureSessions/undergraduate/' + Batch + '/' + DegreeCode + '/' + LectureDate).doc(ModuleCode).ref.get().then((doc) => {\r\n                                            if (doc.exists) {\r\n                                                // console.log(doc.data());\r\n                                                this.CloudCode = doc.data().SessionCode\r\n                                                // console.log(this.CloudCode)\r\n                                            } else {\r\n                                                // console.log(\"There is no document!\");\r\n\r\n                                            }\r\n                                        }).catch(function (error) {\r\n                                            // console.log(\"There was an error getting your document:\", error);\r\n                                        });\r\n\r\n                                    })\r\n                                }\r\n                            })\r\n\r\n                        });\r\n                        navigator.geolocation.getCurrentPosition(function (position) {\r\n                            var pos = {\r\n                                lat: position.coords.latitude,\r\n                                lng: position.coords.longitude\r\n                            }\r\n                            var NSBMPOS = 'lat: 6.8211, lng: 80.0409'\r\n                            if (LocationCheck = true) {\r\n                                if (pos.toString() == NSBMPOS) {\r\n                                    this.location = true;\r\n                                }\r\n                                else {\r\n                                    // this.location = false;\r\n                                }\r\n                            }\r\n                            if (LocationCheck = false) {\r\n                                this.location = true;\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                })\r\n            } else {\r\n                // console.log(\"There is no document!\");\r\n\r\n            }\r\n        }).catch(function (error) {\r\n            // console.log(\"There was an error getting your document:\", error);\r\n        });\r\n    }\r\n\r\n    async addAttendaceToFirebase() {\r\n        var Batch: string\r\n        var Faculty: string\r\n        var LectureDate: string\r\n        var DegreeCode: string\r\n        var ModuleCode: string\r\n        if (this.CloudCode == this.SessionCode) {\r\n            // Fetch Date to Query\r\n            var checkdate = function (sp) {\r\n                const today = new Date();\r\n                var dd = today.getDate();\r\n                var mm = today.getMonth() + 1;\r\n                var yyyy = today.getFullYear();\r\n\r\n                if (dd < 10) dd = 0 + dd;\r\n                if (mm < 10) mm = 0 + mm;\r\n                return (dd + sp + mm + sp + yyyy);\r\n            };\r\n            // Fetch User Details For Query\r\n\r\n            // Load Module Data from Database  \r\n            LectureDate = checkdate('-');\r\n            LectureDate = '2020-4-21';\r\n            this.firestore.collection('/users/userTypes/studentUsers').doc(this.firebase.userDetails().uid).ref.get().then((doc) => {\r\n                if (doc.exists) {\r\n                    // console.log(doc.data());\r\n                    Batch = doc.data().batch.toString()\r\n                    Faculty = doc.data().faculty\r\n                    DegreeCode = doc.data().degree + \", \" + doc.data().awardingBodyUniversity\r\n                    this.firebase.fetchSession(Batch, Faculty, LectureDate, DegreeCode).subscribe(data => {\r\n                        // console.log(Batch + '' + Faculty + '' + LectureDate)\r\n                        this.session = data.map(e => {\r\n                            ModuleCode = e.payload.doc.data()['moduleCode'] + \"-\" + e.payload.doc.data()['moduleTitle']\r\n                            return {\r\n\r\n                                id: e.payload.doc.id,\r\n                                SessionCode: e.payload.doc.data()['SessionCode'],\r\n                                Module: e.payload.doc.data()['moduleCode'] + \" \" + e.payload.doc.data()['moduleTitle'],\r\n                                Session: e.payload.doc.data()['Session'],\r\n                                Date: e.payload.doc.data()['startDateTime'].toDate(),\r\n                                Hall: e.payload.doc.data()['lectureHall'],\r\n                                Lecturer: e.payload.doc.data()['lecturer'],\r\n                            };\r\n                        })\r\n                        // SENDING to FIRESTORE\r\n                        console.log(ModuleCode)\r\n                        this.firebase.sendAttendance(ModuleCode, this.firebase.userDetails().email).then(async resp => {\r\n                            const toast = await this.toastController.create({\r\n                                message: 'Your Attendance has been accepted',\r\n                                duration: 2000\r\n                            });\r\n                            toast.present();\r\n                            this.fetchdata();\r\n                        })\r\n                            .catch(async error => {\r\n                                // console.log(error);\r\n                                const toast = await this.toastController.create({\r\n                                    message: 'Error in Network, check back later.',\r\n                                    duration: 2000\r\n                                });\r\n                                toast.present();\r\n                            });\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        else {\r\n            const toast = await this.toastController.create({\r\n                message: 'Session Code is Wrong ! | TRY AGAIN',\r\n                duration: 2000\r\n            });\r\n            toast.present();\r\n            this.Alert = \"Session Code is Wrong ! | TRY AGAIN\";\r\n        }\r\n\r\n    }\r\n\r\n\r\n    goSettings() {\r\n        this.router.navigate(['Student/Settings']);\r\n        // console.log('settings');\r\n    }\r\n    goeSign() {\r\n        this.router.navigate(['Student/eSign']);\r\n        // console.log('Home');\r\n    }\r\n    goECForm() {\r\n        this.router.navigate(['Student/EC-Form']);\r\n        // console.log('EC-Form');\r\n    }\r\n    goAttendence() {\r\n        this.router.navigate(['Student/Attendence']);\r\n        // console.log('Attendence');\r\n    }\r\n    goNotices() {\r\n        this.router.navigate(['Student/Notices']);\r\n        // console.log('settings');\r\n    }\r\n}"],"sourceRoot":"webpack:///"}