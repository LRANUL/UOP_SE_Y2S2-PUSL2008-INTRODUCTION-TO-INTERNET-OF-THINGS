{"version":3,"sources":["src/app/student/settings/settings.page.html","src/app/student/settings/settings-routing.module.ts","src/app/student/settings/settings.module.ts","src/app/student/settings/settings.page.scss","src/app/student/settings/settings.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-app>\\r\\n\\r\\n\\r\\n  <div class=\\\"ion-page\\\" id=\\\"main-content\\\">\\r\\n    <ion-header>\\r\\n      <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Settings</ion-title>\\r\\n      </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <ion-content class=\\\"ion-padding\\\">\\r\\n      <ion-list>\\r\\n        <ion-item>\\r\\n          <ion-label>Email: {{userEmail}}</ion-label>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\" (click)=\\\"presentAlert()\\\" style=\\\"font-weight: bold;\\\">Change Password</ion-label>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-button color=\\\"dark\\\" (click)=\\\"logout()\\\"><ion-icon name=\\\"log-out-outline\\\"></ion-icon>Logout</ion-button>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-content>\\r\\n  </div>\\r\\n</ion-app>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingsPageRoutingModule } from './settings-routing.module';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SettingsPageRoutingModule\r\n  ],\r\n  declarations: [SettingsPage]\r\n})\r\nexport class SettingsPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnQvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIn0= */\"","import { FirebaseService } from './../../services/firebase.service';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {MenuController, NavController, LoadingController, AlertController, ToastController} from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport * as firebase from 'firebase';\r\nimport { AngularFirestore } from '@angular/fire/firestore/';\r\n\r\n@Component({selector: 'app-settings', templateUrl: './settings.page.html', styleUrls: ['./settings.page.scss']})\r\nexport class SettingsPage implements OnInit {\r\n    userEmail: string;\r\n    constructor(private firestore: AngularFirestore,\r\n        private authService: FirebaseService,\r\n        public loadingController: LoadingController,\r\n        public alertController: AlertController,\r\n        public toastController: ToastController, private router: Router, private menu : MenuController, public navCtrl : NavController) {}\r\n\r\n    ngOnInit() {\r\n        if (this.authService.userDetails()) {\r\n            this.userEmail = this.authService.userDetails().email;\r\n        } else {\r\n            this.navCtrl.navigateBack(\"\");\r\n        }\r\n    }\r\n\r\n\r\n    async presentAlert() {\r\n        const alert = await this.alertController.create({\r\n            header: 'Change Password',\r\n            inputs: [\r\n                {\r\n                    name: 'password',\r\n                    type: 'password',\r\n                    placeholder: 'New Password'\r\n\r\n                },\r\n            ],\r\n            message: this.authService.userDetails().email,\r\n            buttons: [\r\n                {\r\n                    text: 'Cancel',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary',\r\n                    handler: () => {\r\n                        // console.log('Confirm Cancel');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Change',\r\n                    handler: async (alertData) => {\r\n                        var user = firebase.auth().currentUser;\r\n                        var newPassword = alertData.password;\r\n                        user.updatePassword(newPassword).then(async function () {\r\n                            // console.log('Password Updated')\r\n\r\n                        }\r\n                        ).catch(function (error) {\r\n                            // An error happened.\r\n                        });\r\n                        const toast = await this.toastController.create({\r\n                            message: 'Your password has been updated.',\r\n                            duration: 2000\r\n                        });\r\n                        toast.present();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        await alert.present();\r\n    }\r\n\r\n    async logout() {\r\n        this.firestore.collection('/users/userTypes/studentUsers').doc(this.authService.userDetails().uid).set({\r\n            Activity: 'Offline',\r\n        }, { merge: true });\r\n        this.authService\r\n            .logoutUser()\r\n            .then(async res => {\r\n                // console.log(res);\r\n                const loading = await this.loadingController.create({\r\n                    message: 'Logging out...',\r\n                    duration: 2000\r\n                });\r\n                await loading.present();\r\n\r\n                const { role, data } = await loading.onDidDismiss();\r\n                // console.log('Loading dismissed!');\r\n\r\n                this.navCtrl.navigateBack(\"\");\r\n            })\r\n            .catch(error => {\r\n                // console.log(error);\r\n            });\r\n    }\r\n    goSettings() {\r\n        this.router.navigate(['Student/Settings']);\r\n        // console.log('settings');\r\n    }\r\n    goeSign() {\r\n        this.router.navigate(['Student/eSign']);\r\n        // console.log('Home');\r\n    }\r\n    goECForm() {\r\n        this.router.navigate(['Student/EC-Form']);\r\n        // console.log('EC-Form');\r\n    }\r\n    goAttendence() {\r\n        this.router.navigate(['Student/Attendence']);\r\n        // console.log('Attendence');\r\n    }\r\n    goNotices() {\r\n        this.router.navigate(['Student/Notices']);\r\n        // console.log('settings');\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"student-settings-settings-module-es5.js"}